<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Restaurants Ibis Coeur d'Orly</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --primary-red: #b31317;
      --primary-red-dark: #8b0f13;
      --primary-red-light: #d32f2f;
      --bg-primary: #0a0a0a;
      --bg-secondary: #1a1a1a;
      --bg-tertiary: #2a2a2a;
      --text-primary: #ffffff;
      --text-secondary: #e0e0e0;
      --text-muted: #a0a0a0;
      --border-color: #333333;
      --shadow-color: rgba(0, 0, 0, 0.3);
      --accent-green: #4caf50;
      --accent-orange: #ff9800;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
      color: var(--text-primary);
      min-height: 100vh;
      line-height: 1.6;
    }

    /* Header */
    .header {
      background: linear-gradient(135deg, var(--primary-red) 0%, var(--primary-red-dark) 100%);
      color: white;
      text-align: center;
      padding: 20px 10px;
      box-shadow: 0 4px 20px var(--shadow-color);
      position: relative;
      overflow: hidden;
    }

    .header::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
      animation: shimmer 3s infinite;
    }

    @keyframes shimmer {
      0% { left: -100%; }
      100% { left: 100%; }
    }

    .header h1 {
      font-size: 1.8rem;
      font-weight: 700;
      margin-bottom: 5px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    }

    .header-subtitle {
      font-size: 0.9rem;
      opacity: 0.9;
      font-weight: 400;
    }

    /* Navigation */
    .restaurant-nav {
      background: var(--bg-secondary);
      padding: 15px;
      border-bottom: 2px solid var(--border-color);
      box-shadow: 0 2px 10px var(--shadow-color);
    }

    .nav-buttons {
      display: flex;
      gap: 10px;
      justify-content: center;
      flex-wrap: wrap;
      max-width: 600px;
      margin: 0 auto;
    }

    .nav-btn {
      background: linear-gradient(135deg, var(--bg-tertiary) 0%, var(--bg-secondary) 100%);
      color: var(--text-primary);
      border: 2px solid var(--border-color);
      padding: 12px 20px;
      border-radius: 12px;
      cursor: pointer;
      font-weight: 600;
      font-size: 0.9rem;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .nav-btn:hover {
      background: linear-gradient(135deg, var(--primary-red-dark) 0%, var(--primary-red) 100%);
      border-color: var(--primary-red);
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(179, 19, 23, 0.3);
    }

    .nav-btn.active {
      background: linear-gradient(135deg, var(--primary-red) 0%, var(--primary-red-dark) 100%);
      border-color: var(--primary-red-light);
      color: white;
      box-shadow: 0 4px 15px rgba(179, 19, 23, 0.4);
    }

    .nav-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
      transition: left 0.5s;
    }

    .nav-btn:hover::before {
      left: 100%;
    }

    /* Sub Navigation */
    .sub-nav {
      background: var(--bg-tertiary);
      padding: 10px 15px;
      border-bottom: 1px solid var(--border-color);
      display: none;
    }

    .sub-nav.show {
      display: block;
      animation: slideDown 0.3s ease;
    }

    @keyframes slideDown {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .sub-nav-buttons {
      display: flex;
      gap: 8px;
      justify-content: center;
      flex-wrap: wrap;
    }

    .sub-nav-btn {
      background: var(--bg-secondary);
      color: var(--text-secondary);
      border: 1px solid var(--border-color);
      padding: 8px 16px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 0.8rem;
      transition: all 0.3s ease;
    }

    .sub-nav-btn:hover {
      background: var(--primary-red);
      color: white;
      border-color: var(--primary-red);
    }

    .sub-nav-btn.active {
      background: var(--primary-red);
      color: white;
      border-color: var(--primary-red-light);
    }

    /* Content Areas */
    .content-area {
      display: none;
      animation: fadeIn 0.5s ease;
    }

    .content-area.active {
      display: block;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Development Message */
    .dev-message {
      text-align: center;
      padding: 60px 20px;
      background: var(--bg-secondary);
      margin: 20px;
      border-radius: 15px;
      border: 2px solid var(--border-color);
      box-shadow: 0 8px 25px var(--shadow-color);
    }

    .dev-message .icon {
      font-size: 4rem;
      margin-bottom: 20px;
      opacity: 0.7;
    }

    .dev-message h2 {
      color: var(--primary-red);
      font-size: 1.5rem;
      margin-bottom: 15px;
      font-weight: 600;
    }

    .dev-message p {
      color: var(--text-secondary);
      font-size: 1rem;
      margin-bottom: 10px;
    }

    .dev-message .contact {
      color: var(--primary-red);
      font-weight: 500;
      margin-top: 20px;
    }

    /* Container pour le menu existant */
    .container {
      max-width: 500px;
      margin: 14px auto;
      background: var(--bg-secondary);
      border-radius: 14px;
      box-shadow: 0 8px 25px var(--shadow-color);
      padding: 14px;
      border: 1px solid var(--border-color);
      animation: slideUp 0.6s ease;
    }

    @keyframes slideUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Styles pour le menu existant (repris du code précédent) */
    .date-selector {
      background: var(--bg-tertiary);
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 20px;
      border: 1px solid var(--border-color);
      box-shadow: 0 4px 15px var(--shadow-color);
    }

    .date-selector h3 {
      color: var(--primary-red);
      font-size: 1.1rem;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 600;
    }

    .current-date {
      color: var(--text-secondary);
      font-size: 0.85rem;
      margin-bottom: 12px;
      font-weight: 400;
    }

    select {
      width: 100%;
      padding: 12px 16px;
      margin-bottom: 14px;
      font-size: 1rem;
      border: 2px solid var(--border-color);
      border-radius: 10px;
      background: var(--bg-primary);
      color: var(--text-primary);
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 500;
    }

    select:focus {
      outline: none;
      border-color: var(--primary-red);
      box-shadow: 0 0 0 3px rgba(179, 19, 23, 0.1);
    }

    select option {
      background: var(--bg-primary);
      color: var(--text-primary);
      padding: 10px;
    }

    .message-box {
      background: linear-gradient(135deg, var(--bg-tertiary) 0%, var(--bg-secondary) 100%);
      border-left: 4px solid var(--primary-red);
      padding: 16px;
      margin-bottom: 20px;
      border-radius: 0 12px 12px 0;
      box-shadow: 0 4px 15px var(--shadow-color);
      animation: slideIn 0.5s ease;
    }

    @keyframes slideIn {
      from { opacity: 0; transform: translateX(-20px); }
      to { opacity: 1; transform: translateX(0); }
    }

    .message-box p {
      color: var(--text-secondary);
      font-size: 0.9rem;
      margin: 0;
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 500;
    }

    .section {
      margin-bottom: 24px;
      background: var(--bg-tertiary);
      border-radius: 12px;
      padding: 18px;
      border: 1px solid var(--border-color);
      box-shadow: 0 4px 15px var(--shadow-color);
      animation: fadeInUp 0.6s ease;
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .section h2 {
      color: var(--primary-red);
      font-size: 1.2rem;
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 600;
      border-bottom: 2px solid var(--border-color);
      padding-bottom: 8px;
    }

    .plat-item {
      background: var(--bg-secondary);
      border-radius: 10px;
      padding: 16px;
      margin-bottom: 14px;
      border: 1px solid var(--border-color);
      transition: all 0.3s ease;
      box-shadow: 0 2px 10px var(--shadow-color);
    }

    .plat-item:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px var(--shadow-color);
      border-color: var(--primary-red);
    }

    .plat-nom {
      font-size: 1rem;
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 12px;
      text-transform: capitalize;
    }

    .plat-buttons {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }

    .suggestion-btn, .allergen-btn {
      padding: 8px 14px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 0.8rem;
      font-weight: 600;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 6px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .suggestion-btn {
      background: linear-gradient(135deg, #6a1b9a 0%, #8e24aa 100%);
      color: white;
      box-shadow: 0 3px 10px rgba(106, 27, 154, 0.3);
    }

    .suggestion-btn:hover {
      background: linear-gradient(135deg, #8e24aa 0%, #ab47bc 100%);
      transform: translateY(-2px);
      box-shadow: 0 6px 15px rgba(106, 27, 154, 0.4);
    }

    .allergen-btn {
      background: linear-gradient(135deg, var(--accent-orange) 0%, #f57c00 100%);
      color: white;
      box-shadow: 0 3px 10px rgba(255, 152, 0, 0.3);
    }

    .allergen-btn:hover {
      background: linear-gradient(135deg, #f57c00 0%, #ef6c00 100%);
      transform: translateY(-2px);
      box-shadow: 0 6px 15px rgba(255, 152, 0, 0.4);
    }

    .details {
      background: var(--bg-primary);
      border-radius: 8px;
      padding: 16px;
      margin-top: 12px;
      border: 1px solid var(--border-color);
      display: none;
      box-shadow: inset 0 2px 8px var(--shadow-color);
    }

    .details h4 {
      color: var(--primary-red);
      font-size: 0.9rem;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 6px;
      font-weight: 600;
    }

    .details p {
      color: var(--text-secondary);
      font-size: 0.85rem;
      margin-bottom: 8px;
      line-height: 1.5;
    }

    .details a {
      color: var(--primary-red);
      text-decoration: none;
      font-weight: 500;
      display: inline-flex;
      align-items: center;
      gap: 4px;
      transition: all 0.3s ease;
    }

    .details a:hover {
      color: var(--primary-red-light);
      text-decoration: underline;
    }

    .allergen-info {
      background: var(--bg-primary);
      border-radius: 8px;
      padding: 12px;
      margin-top: 12px;
      border: 1px solid var(--accent-orange);
      display: none;
      box-shadow: inset 0 2px 8px var(--shadow-color);
    }

    .allergen-info h4 {
      color: var(--accent-orange);
      font-size: 0.9rem;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 6px;
      font-weight: 600;
    }

    .allergen-info p {
      color: var(--text-secondary);
      font-size: 0.85rem;
      margin: 0;
    }

    /* Footer */
    .footer {
      background: var(--bg-tertiary);
      color: var(--text-secondary);
      text-align: center;
      padding: 20px;
      margin-top: 30px;
      border-top: 2px solid var(--border-color);
      box-shadow: 0 -4px 15px var(--shadow-color);
    }

    .footer p {
      margin: 5px 0;
      font-size: 0.9rem;
    }

    .footer .support {
      color: var(--primary-red);
      font-weight: 600;
    }

    .footer .libre {
      color: var(--text-muted);
      font-size: 0.8rem;
    }

    /* Responsive */
    @media (max-width: 480px) {
      .header h1 {
        font-size: 1.5rem;
      }
      
      .container {
        margin: 10px;
        padding: 12px;
      }
      
      .nav-buttons {
        gap: 8px;
      }
      
      .nav-btn {
        padding: 10px 16px;
        font-size: 0.8rem;
      }
    }

    /* Animations d'apparition */
    .fade-in {
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.6s ease;
    }

    .fade-in.visible {
      opacity: 1;
      transform: translateY(0);
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>Restaurants Ibis Coeur d'Orly</h1>
    <div class="header-subtitle">— Outil libre —</div>
  </div>

  <div class="restaurant-nav">
    <div class="nav-buttons">
      <button class="nav-btn active" onclick="selectRestaurant('jolaine')">
        🍽️ Jolaine (Buffet)
      </button>
      <button class="nav-btn" onclick="selectRestaurant('pia')">
        🍷 Pia (À la carte)
      </button>
    </div>
  </div>

  <div class="sub-nav show" id="jolaine-sub-nav">
    <div class="sub-nav-buttons">
      <button class="sub-nav-btn active" onclick="selectService('jolaine-midi')">
        ☀️ Midi
      </button>
      <button class="sub-nav-btn" onclick="selectService('jolaine-soir')">
        🌙 Soir
      </button>
    </div>
  </div>

  <div class="sub-nav" id="pia-sub-nav">
    <!-- Pas de sous-navigation pour Pia -->
  </div>

  <!-- Jolaine Midi (menu existant) -->
  <div class="content-area active" id="jolaine-midi">
    <div class="container">
      <div class="date-selector">
        <h3>📋 Choisis un jour :</h3>
        <div class="current-date" id="current-date"></div>
        <select id="day-selector">
          <option value="lundi">Lundi</option>
          <option value="mardi">Mardi</option>
          <option value="mercredi">Mercredi</option>
          <option value="jeudi">Jeudi</option>
          <option value="vendredi">Vendredi</option>
        </select>
      </div>

      <div class="message-box" id="message-container">
        <p id="daily-message"></p>
      </div>

      <div id="menu-content">
        <!-- Le contenu du menu sera généré ici -->
      </div>
    </div>
  </div>

  <!-- Jolaine Soir -->
  <div class="content-area" id="jolaine-soir">
    <div class="dev-message">
      <div class="icon">🌙</div>
      <h2>Jolaine Soir</h2>
      <p>Le menu du soir est en cours de développement.</p>
      <p>Cette section sera bientôt disponible avec tous les plats du buffet du soir.</p>
      <div class="contact">Support : chakir.anas1978@gmail.com</div>
    </div>
  </div>

  <!-- Pia Restaurant -->
  <div class="content-area" id="pia">
    <div class="dev-message">
      <div class="icon">🍷</div>
      <h2>Restaurant Pia</h2>
      <p>Le menu à la carte est en cours de développement.</p>
      <p>Cette section sera bientôt disponible avec la carte complète du restaurant.</p>
      <div class="contact">Support : chakir.anas1978@gmail.com</div>
    </div>
  </div>

  <div class="footer">
    <p class="support">📧 Support technique : chakir.anas1978@gmail.com</p>
    <p class="libre">Libre utilisation - Menu professionnel</p>
  </div>

  <script>
    // Variables globales
    let currentRestaurant = 'jolaine';
    let currentService = 'jolaine-midi';

    // Fonctions de navigation
    function selectRestaurant(restaurant) {
      currentRestaurant = restaurant;
      
      // Mettre à jour les boutons de navigation
      document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
      
      // Masquer toutes les sous-navigations
      document.querySelectorAll('.sub-nav').forEach(nav => nav.classList.remove('show'));
      
      // Masquer toutes les zones de contenu
      document.querySelectorAll('.content-area').forEach(area => area.classList.remove('active'));
      
      if (restaurant === 'jolaine') {
        document.getElementById('jolaine-sub-nav').classList.add('show');
        selectService('jolaine-midi'); // Par défaut midi
      } else if (restaurant === 'pia') {
        document.getElementById('pia').classList.add('active');
      }
    }

    function selectService(service) {
      currentService = service;
      
      // Mettre à jour les boutons de sous-navigation
      document.querySelectorAll('.sub-nav-btn').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
      
      // Masquer toutes les zones de contenu
      document.querySelectorAll('.content-area').forEach(area => area.classList.remove('active'));
      
      // Afficher la zone de contenu correspondante
      document.getElementById(service).classList.add('active');
      
      // Si c'est Jolaine Midi, initialiser le menu
      if (service === 'jolaine-midi') {
        initializeMenu();
      }
    }

    // Fonctions du menu (reprises du code précédent)
    function observeElements() {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
          }
        });
      });

      document.querySelectorAll('.fade-in').forEach(el => {
        observer.observe(el);
      });
    }

    function getCurrentDate() {
      const now = new Date();
      const options = { 
        weekday: 'long', 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric' 
      };
      return now.toLocaleDateString('fr-FR', options);
    }

    function getCurrentDay() {
      const days = ['dimanche', 'lundi', 'mardi', 'mercredi', 'jeudi', 'vendredi', 'samedi'];
      const now = new Date();
      return days[now.getDay()];
    }

    function isWeekend() {
      const day = new Date().getDay();
      return day === 0 || day === 6;
    }

    function capitalizeWords(str) {
      return str.split(' ').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ');
    }

    function normalizeNom(nom) {
      return nom.replace(/[^a-zA-Z0-9]/g, "");
    }

    function toggleDetails(id) {
      const element = document.getElementById(id);
      if (element) {
        const isVisible = element.style.display === 'block';
        
        // Déterminer le nom du plat et les IDs correspondants
        let platName, suggestionId, allergenId;
        
        if (id.startsWith('suggestion-')) {
          platName = id.replace('suggestion-', '');
          suggestionId = id;
          allergenId = `allergen-${platName}`;
        } else if (id.startsWith('allergen-')) {
          platName = id.replace('allergen-', '');
          suggestionId = `suggestion-${platName}`;
          allergenId = id;
        }
        
        // Fermer l'autre élément s'il est ouvert
        if (id === suggestionId) {
          const allergenElement = document.getElementById(allergenId);
          if (allergenElement && allergenElement.style.display === 'block') {
            allergenElement.style.display = 'none';
          }
        } else if (id === allergenId) {
          const suggestionElement = document.getElementById(suggestionId);
          if (suggestionElement && suggestionElement.style.display === 'block') {
            suggestionElement.style.display = 'none';
          }
        }
        
        // Toggle l'élément cliqué
        element.style.display = isVisible ? 'none' : 'block';
        
        // Add animation class
        if (!isVisible) {
          element.style.animation = 'slideDown 0.3s ease';
        }
      }
    }

    // Data du menu (reprise du code précédent)
    const jours = ["lundi", "mardi", "mercredi", "jeudi", "vendredi"];
    
    const messages = {
      "lundi": "🚀 Bonne semaine à tous ! Un service organisé, c'est la clé du succès.",
      "mardi": "💬 Communiquez bien pour un service sans stress et efficace.",
      "mercredi": "✨ Soignez la présentation, chaque détail compte pour l'excellence.",
      "jeudi": "⚡ Anticipez et entraidez-vous pour gagner du temps précieux.",
      "vendredi": "🎉 Finissez la semaine en équipe et bonne humeur !"
    };

    const menus = {
      "lundi": {
        "salades": ["Salade Piemontaise", "Coleslaw", "Betterave Rouge"],
        "plats_chauds": ["Dinde", "Maquereau", "Puree", "Legumes Farcis", "Carotte", "Poelee Meridionale"],
        "desserts": ["Salade De Fruits", "Tarte Citron", "Croisillon Abricot", "Verrine Chocolat"]
      },
      "mardi": {
        "salades": ["Salade Piemontaise", "Coleslaw", "Betterave Rouge"],
        "plats_chauds": ["Dinde", "Maquereau", "Puree", "Legumes Farcis", "Carotte", "Poelee Meridionale"],
        "desserts": ["Salade De Fruits", "Tarte Citron", "Croisillon Abricot", "Verrine Chocolat"]
      },
      "mercredi": {
        "salades": ["Salade Grecque", "Taboulé", "Carottes Râpées"],
        "plats_chauds": ["Bœuf Bourguignon", "Saumon Grillé", "Riz Pilaf", "Ratatouille", "Haricots Verts", "Gratin Dauphinois"],
        "desserts": ["Mousse Chocolat", "Tarte Pomme", "Yaourt Fruits", "Tiramisu"]
      },
      "jeudi": {
        "salades": ["Salade César", "Lentilles", "Concombre Menthe"],
        "plats_chauds": ["Poulet Rôti", "Cabillaud", "Pommes Vapeur", "Courgettes Farcies", "Épinards", "Tian Légumes"],
        "desserts": ["Crème Brûlée", "Tarte Fraise", "Compote Pomme", "Panna Cotta"]
      },
      "vendredi": {
        "salades": ["Salade Niçoise", "Quinoa", "Tomates Mozzarella"],
        "plats_chauds": ["Poisson Pané", "Escalope Porc", "Frites", "Petits Pois", "Brocolis", "Gratin Courgettes"],
        "desserts": ["Fondant Chocolat", "Tarte Citron", "Salade Fruits", "Île Flottante"]
      }
    };

    // Suggestions et allergènes (données complètes du code précédent)
    const suggestions = {
      "Salade Piemontaise": {
        quantite: "1.2 kg pour 10 personnes",
        preparation: "Cuire pommes de terre en robe des champs, laisser refroidir et couper en dés. Ajouter jambon blanc en dés, œufs durs, cornichons, mayonnaise maison. Assaisonner et parsemer de persil frais.",
        rational: "Cuisson pommes de terre : mode vapeur 100°C, 25-30 minutes selon la taille. Vérifier à la pointe de couteau.",
        video: "https://www.youtube.com/watch?v=pxHh5P20xPE"
      },
      "Coleslaw": {
        quantite: "800g pour 10 personnes",
        preparation: "Râper finement chou blanc et carotte. Préparer sauce : mayonnaise, vinaigre blanc, sucre, sel, poivre. Mélanger légumes et sauce, laisser mariner 30 minutes au frais.",
        rational: "Pas de cuisson nécessaire. Préparation à froid. Conserver au réfrigérateur.",
        video: "https://www.youtube.com/watch?v=pxHh5P20xPE"
      },
      "Betterave Rouge": {
        quantite: "1 kg pour 10 personnes",
        preparation: "Betteraves cuites, épluchées et coupées en dés. Vinaigrette : huile d'olive, vinaigre balsamique, moutarde, échalote hachée. Parsemer de ciboulette fraîche.",
        rational: "Cuisson betteraves : mode vapeur 100°C, 45-60 minutes selon la taille.",
        video: "https://www.youtube.com/watch?v=pxHh5P20xPE"
      },
      "Dinde": {
        quantite: "1.5 kg pour 10 personnes",
        preparation: "Escalopes de dinde marinées aux herbes de Provence. Cuisson à la plancha ou au four. Servir avec jus de cuisson déglacé au vin blanc.",
        rational: "Rational AG : Mode combiné 180°C, humidité 60%, 15-20 minutes. Température à cœur 75°C.",
        video: "https://www.youtube.com/watch?v=SpX4Kbt3SJA"
      },
      "Maquereau": {
        quantite: "1.2 kg pour 10 personnes",
        preparation: "Filets de maquereau grillés, marinés au citron et herbes fraîches. Cuisson rapide pour préserver la texture.",
        rational: "Rational AG : Mode combiné 160°C, humidité 80%, 8-12 minutes selon l'épaisseur.",
        video: "https://www.youtube.com/watch?v=xmfYaOCUDKs"
      },
      "Puree": {
        quantite: "1.5 kg pour 10 personnes",
        preparation: "Pommes de terre cuites vapeur, écrasées avec beurre, lait chaud et muscade. Passer au tamis pour une texture lisse.",
        rational: "Rational AG : Cuisson vapeur 100°C, 25-30 minutes. Finition au mixeur plongeant.",
        video: "https://www.youtube.com/watch?v=_ayqNIb6DQE"
      },
      "Legumes Farcis": {
        quantite: "10 pièces",
        preparation: "Tomates, courgettes ou poivrons évidés, farcis avec mélange de viande hachée, riz, oignons, herbes. Cuisson au four.",
        rational: "Rational AG : Mode combiné 160°C, humidité 70%, 35-45 minutes.",
        video: "https://www.youtube.com/watch?v=Q8E-lZirQf4"
      },
      "Carotte": {
        quantite: "1 kg pour 10 personnes",
        preparation: "Carottes tournées ou en bâtonnets, cuites vapeur, glacées au beurre et persil frais.",
        rational: "Rational AG : Mode vapeur 100°C, 12-15 minutes. Finition sautées au beurre.",
        video: "https://www.youtube.com/watch?v=xmfYaOCUDKs"
      },
      "Poelee Meridionale": {
        quantite: "1.2 kg pour 10 personnes",
        preparation: "Mélange d'aubergines, courgettes, poivrons, tomates, oignons. Cuisson à l'huile d'olive avec herbes de Provence.",
        rational: "Rational AG : Mode combiné 160°C, humidité 50%, 20-25 minutes.",
        video: "https://www.youtube.com/watch?v=e1QY0jketiQ"
      },
      "Salade De Fruits": {
        quantite: "1.5 kg pour 10 personnes",
        preparation: "Mélange de fruits de saison : pommes, poires, oranges, kiwis, raisins. Sirop léger au citron et menthe fraîche.",
        rational: "Pas de cuisson. Préparation à froid. Conserver au réfrigérateur.",
        video: "https://www.youtube.com/watch?v=pxHh5P20xPE"
      },
      "Tarte Citron": {
        quantite: "2 tartes pour 10 personnes",
        preparation: "Pâte sablée, crème citron (œufs, sucre, citron, beurre), meringue italienne. Cuisson pâte à blanc puis garniture.",
        rational: "Rational AG : Pâte 180°C, 15 min. Crème citron 80°C, 10 min. Meringue 120°C, 5 min.",
        video: "https://www.youtube.com/watch?v=pxHh5P20xPE"
      },
      "Croisillon Abricot": {
        quantite: "10 pièces",
        preparation: "Pâte feuilletée en croisillons, garnie de crème pâtissière et abricots frais. Dorure à l'œuf avant cuisson.",
        rational: "Rational AG : Mode combiné 180°C, humidité 40%, 18-22 minutes.",
        video: "https://www.youtube.com/watch?v=pxHh5P20xPE"
      },
      "Verrine Chocolat": {
        quantite: "10 verrines",
        preparation: "Mousse chocolat noir, biscuit sablé émietté, chantilly vanille. Monter en couches dans des verrines. Décorer avec copeaux de chocolat.",
        rational: "Mousse : tempérer chocolat à 35°C, incorporer blancs montés délicatement.",
        video: "https://www.youtube.com/watch?v=pxHh5P20xPE"
      }
    };

    const allergenes = {
      "Salade Piemontaise": "Œufs, Moutarde",
      "Coleslaw": "Œufs, Moutarde",
      "Betterave Rouge": "Moutarde",
      "Dinde": "Aucun allergène majeur",
      "Maquereau": "Poisson",
      "Puree": "Lait",
      "Legumes Farcis": "Gluten, Œufs",
      "Carotte": "Lait",
      "Poelee Meridionale": "Aucun allergène majeur",
      "Salade De Fruits": "Aucun allergène majeur",
      "Tarte Citron": "Gluten, Œufs, Lait",
      "Croisillon Abricot": "Gluten, Œufs, Lait",
      "Verrine Chocolat": "Gluten, Œufs, Lait, Fruits à coque"
    };

    function createPlatElement(nom, type) {
      const platDiv = document.createElement('div');
      platDiv.className = 'plat-item fade-in';
      
      const normalizedNom = normalizeNom(nom);
      const suggestionId = `suggestion-${normalizedNom}`;
      const allergenId = `allergen-${normalizedNom}`;
      
      let html = `
        <div class="plat-nom">${capitalizeWords(nom)}</div>
        <div class="plat-buttons">
          <button class="suggestion-btn" onclick="toggleDetails('${suggestionId}')">
            💡 Suggestion
          </button>
          <button class="allergen-btn" onclick="toggleDetails('${allergenId}')">
            ⚠️ Allergènes
          </button>
        </div>
      `;
      
      if (suggestions[nom]) {
        const suggestion = suggestions[nom];
        html += `
          <div id="${suggestionId}" class="details">
            <h4>📏 Quantité : ${suggestion.quantite}</h4>
            <h4>👨‍🍳 Préparation : ${suggestion.preparation}</h4>
            <h4>🔥 Rational AG : ${suggestion.rational}</h4>
            <h4>🎥 Formation : <a href="${suggestion.video}" target="_blank">Voir la technique culinaire</a></h4>
          </div>
        `;
      } else {
        html += `
          <div id="${suggestionId}" class="details">
            <h4>📏 Quantité : Information en cours d'ajout</h4>
            <h4>👨‍🍳 Préparation : Détails à venir</h4>
            <h4>🔥 Rational AG : Paramètres en cours de définition</h4>
            <h4>🎥 Formation : <a href="https://www.youtube.com/watch?v=pxHh5P20xPE" target="_blank">Voir la technique culinaire</a></h4>
          </div>
        `;
      }
      
      if (allergenes[nom]) {
        html += `
          <div id="${allergenId}" class="allergen-info">
            <h4>⚠️ Allergènes présents : ${allergenes[nom]}</h4>
          </div>
        `;
      } else {
        html += `
          <div id="${allergenId}" class="allergen-info">
            <h4>⚠️ Allergènes présents : Information en cours de vérification</h4>
          </div>
        `;
      }
      
      platDiv.innerHTML = html;
      return platDiv;
    }

    function updateMenu(jour) {
      const menuContent = document.getElementById('menu-content');
      menuContent.innerHTML = '';

      if (isWeekend()) {
        const weekendMessage = document.createElement('div');
        weekendMessage.className = 'message-box';
        weekendMessage.innerHTML = '<p>🏖️ Bon week-end ! Le restaurant est fermé le week-end. Rendez-vous lundi pour de nouveaux menus !</p>';
        menuContent.appendChild(weekendMessage);
        return;
      }

      const menu = menus[jour];
      if (!menu) return;

      // Salades
      const saladesSection = document.createElement('div');
      saladesSection.className = 'section fade-in';
      saladesSection.innerHTML = '<h2>🥗 Salades du jour</h2>';
      menu.salades.forEach(salade => {
        saladesSection.appendChild(createPlatElement(salade, 'salade'));
      });
      menuContent.appendChild(saladesSection);

      // Plats chauds
      const platsSection = document.createElement('div');
      platsSection.className = 'section fade-in';
      platsSection.innerHTML = '<h2>🍲 Plats chauds du jour</h2>';
      menu.plats_chauds.forEach(plat => {
        platsSection.appendChild(createPlatElement(plat, 'plat'));
      });
      menuContent.appendChild(platsSection);

      // Desserts
      const dessertsSection = document.createElement('div');
      dessertsSection.className = 'section fade-in';
      dessertsSection.innerHTML = '<h2>🍰 Desserts du jour</h2>';
      menu.desserts.forEach(dessert => {
        dessertsSection.appendChild(createPlatElement(dessert, 'dessert'));
      });
      menuContent.appendChild(dessertsSection);

      // Observer les nouveaux éléments
      setTimeout(observeElements, 100);
    }

    function updateMessage(jour) {
      const messageElement = document.getElementById('daily-message');
      if (isWeekend()) {
        messageElement.textContent = "🏖️ Bon week-end ! Profitez de votre repos bien mérité.";
      } else {
        messageElement.textContent = messages[jour] || "Bonne journée et bon service !";
      }
    }

    function initializeMenu() {
      // Afficher la date actuelle
      document.getElementById('current-date').textContent = getCurrentDate();

      // Sélectionner automatiquement le jour actuel
      const currentDay = getCurrentDay();
      const daySelector = document.getElementById('day-selector');
      
      if (jours.includes(currentDay)) {
        daySelector.value = currentDay;
      } else {
        daySelector.value = 'lundi'; // Par défaut si week-end
      }

      // Mettre à jour le menu et le message
      updateMenu(daySelector.value);
      updateMessage(daySelector.value);

      // Ajouter l'événement de changement de jour
      daySelector.addEventListener('change', function() {
        updateMenu(this.value);
        updateMessage(this.value);
      });

      // Observer les éléments pour les animations
      observeElements();
    }

    // Initialisation au chargement de la page
    document.addEventListener('DOMContentLoaded', function() {
      // Par défaut, afficher Jolaine Midi
      selectRestaurant('jolaine');
    });
  </script>
</body>
</html>